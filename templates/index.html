{% extends "base.html" %}

{% block content %}
<section>
    {% if config.extra.show_hero is not defined or config.extra.show_hero %}
    <div class="hero-section">
        {% if config.extra.podcast_logo %}
        <img src="{{ get_url(path=config.extra.podcast_logo) }}" alt="{{ config.title }}" class="hero-logo">
        {% endif %}
        <h1>{{ config.title }}</h1>
    </div>
    
    {% if config.extra.podcast_description %}
    <div class="podcast-description">
        {{ config.extra.podcast_description | safe }}
    </div>
    {% endif %}
    {% endif %}
    
    {% if section.pages %}
    <div class="episodes-list">
        {% for episode in section.pages %}
        <article class="episode-preview">
            <h2><a href="{{ episode.permalink }}">{{ episode.title }}</a></h2>
            <div class="episode-meta">
                <time datetime="{{ episode.date }}">{{ episode.date | date(format="%B %d, %Y") }}</time>
                {% if episode.extra.duration %}
                <span class="duration">{{ episode.extra.duration }}</span>
                {% endif %}
                {% if episode.extra.episode_number %}
                <span class="episode-number">Episode {{ episode.extra.episode_number }}</span>
                {% endif %}
            </div>
            {% if episode.description %}
            <p>{{ episode.description }}</p>
            {% endif %}
            {% if episode.extra.audio_file %}
            <audio controls preload="none">
                <source src="{% if config.extra.media_prefix %}{{ config.extra.media_prefix }}{{ episode.extra.audio_file }}{% else %}{{ get_url(path=episode.extra.audio_file) }}{% endif %}" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            {% endif %}
        </article>
        {% endfor %}
    </div>
    {% else %}
    <p>No episodes available yet.</p>
    {% endif %}
    
   
</section>
{% endblock content %}
